<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <link rel="stylesheet" href="css/dashboard.css">
  <title>Dashboard</title>
</head>

<body>
  <div x-data="setup()" :class="{ 'dark': isDark }">
    <div
      class="min-h-screen flex flex-col flex-auto flex-shrink-0 antialiased bg-white dark:bg-gray-700 text-black dark:text-white">

      <!-- Header -->
      <%- include("../partials/dashboardHeader") %>
        <!-- ./Header -->


        <!-- Sidebar -->
        <%- include("../partials/dashboardSidebar") %>
          <!-- ./Sidebar -->

          <div class="h-full ml-14 mt-14 mb-10 md:ml-64">

            <!-- Statistics Cards -->
            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 p-4 gap-4">
              <div
                class="bg-blue-500 dark:bg-gray-800 shadow-lg rounded-md flex items-center justify-between p-3 border-b-4 border-blue-600 dark:border-gray-600 text-white font-medium group">
                <div
                  class="flex justify-center items-center w-14 h-14 bg-white rounded-full transition-all duration-300 transform group-hover:rotate-12">
                  <svg width="176px" height="176px" viewBox="-235.52 -235.52 1495.04 1495.04"
                    class="stroke-current text-blue-800 dark:text-gray-800 transform transition-transform duration-500 ease-in-out"
                    version="1.1" xmlns="http://www.w3.org/2000/svg" fill="#000000" stroke="currentColor">
                    <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                    <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
                    <g id="SVGRepo_iconCarrier">
                      <path
                        d="M768 85.333333H554.666667c0 23.466667-19.2 42.666667-42.666667 42.666667s-42.666667-19.2-42.666667-42.666667H256C209.066667 85.333333 170.666667 123.733333 170.666667 170.666667v682.666666c0 46.933333 38.4 85.333333 85.333333 85.333334h512c46.933333 0 85.333333-38.4 85.333333-85.333334V170.666667c0-46.933333-38.4-85.333333-85.333333-85.333334z"
                        fill="#455A64"></path>
                      <path
                        d="M768 874.666667H256c-12.8 0-21.333333-8.533333-21.333333-21.333334V170.666667c0-12.8 8.533333-21.333333 21.333333-21.333334h512c12.8 0 21.333333 8.533333 21.333333 21.333334v682.666666c0 12.8-8.533333 21.333333-21.333333 21.333334z"
                        fill="#FFFFFF"></path>
                      <path
                        d="M554.666667 85.333333c0 23.466667-19.2 42.666667-42.666667 42.666667s-42.666667-19.2-42.666667-42.666667h-149.333333v85.333334c0 23.466667 19.2 42.666667 42.666667 42.666666h298.666666c23.466667 0 42.666667-19.2 42.666667-42.666666V85.333333h-149.333333z"
                        fill="#90A4AE"></path>
                      <path
                        d="M512 0c-46.933333 0-85.333333 38.4-85.333333 85.333333s38.4 85.333333 85.333333 85.333334 85.333333-38.4 85.333333-85.333334-38.4-85.333333-85.333333-85.333333z m0 128c-23.466667 0-42.666667-19.2-42.666667-42.666667s19.2-42.666667 42.666667-42.666666 42.666667 19.2 42.666667 42.666666-19.2 42.666667-42.666667 42.666667z"
                        fill="#90A4AE"></path>
                      <path d="M448 426.666667h256v42.666666H448zM320 405.333333h85.333333v85.333334h-85.333333z"
                        fill="#CFD8DC"></path>
                      <path d="M448 618.666667h256v42.666666H448zM320 597.333333h85.333333v85.333334h-85.333333z"
                        fill="#03A9F4"></path>
                    </g>
                  </svg>
                </div>
                <div class="text-right">
                  <p class="text-2xl">500</p>
                  <p class="text-lg">Taken Survey</p>
                </div>
              </div>
              <div
                class="bg-blue-500 dark:bg-gray-800 shadow-lg rounded-md flex items-center justify-between p-3 border-b-4 border-blue-600 dark:border-gray-600 text-white font-medium group">
                <div
                  class="flex justify-center items-center w-14 h-14 bg-white rounded-full transition-all duration-300 transform group-hover:rotate-12">
                  <svg width="30" height="30" fill="none" viewBox="0 0 24 24" stroke="currentColor"
                    class="stroke-current text-blue-800 dark:text-gray-800 transform transition-transform duration-500 ease-in-out">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                      d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z">
                    </path>
                  </svg>

                </div>
                <div class="text-right">
                  <p class="text-2xl">200</p>
                  <p class="text-lg">Enrolled</p>
                </div>
              </div>
              <div
                class="bg-blue-500 dark:bg-gray-800 shadow-lg rounded-md flex items-center justify-between p-3 border-b-4 border-blue-600 dark:border-gray-600 text-white font-medium group">
                <div
                  class="flex justify-center items-center w-14 h-14 bg-white rounded-full transition-all duration-300 transform group-hover:rotate-12">
                  <svg fill="#1e40af" width="180px" height="180px" viewBox="-595.2 -595.2 3110.40 3110.40"
                    xmlns="http://www.w3.org/2000/svg" stroke="#1e40af" stroke-width="30.72"
                    class="stroke-current text-blue-800 dark:text-gray-800 transform transition-transform duration-500 ease-in-out">
                    <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                    <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
                    <g id="SVGRepo_iconCarrier">
                      <path
                        d="M960 1807.059c-467.125 0-847.059-379.934-847.059-847.059 0-467.125 379.934-847.059 847.059-847.059 467.125 0 847.059 379.934 847.059 847.059 0 467.125-379.934 847.059-847.059 847.059M960 0C430.645 0 0 430.645 0 960s430.645 960 960 960 960-430.645 960-960S1489.355 0 960 0M854.344 1157.975 583.059 886.69l-79.85 79.85 351.135 351.133L1454.4 717.617l-79.85-79.85-520.206 520.208Z"
                        fill-rule="evenodd"></path>
                    </g>
                  </svg>
                </div>
                <div class="text-right">
                  <p class="text-2xl">0</p>
                  <p class="text-lg">Completed Program</p>
                </div>
              </div>
            </div>
            <!-- ./Statistics Cards -->

            <div class="grid grid-cols-1 p-4 gap-4">

              <!-- Drug Traffic -->
              <div
                class="relative flex flex-col min-w-0 mb-4 lg:mb-0 break-words bg-gray-50 dark:bg-gray-800 w-full shadow-lg rounded">
                <div class="rounded-t mb-0 px-0 border-0">
                  <div class="flex flex-wrap items-center px-4 py-2">
                    <div class="relative w-full max-w-full flex-grow flex-1">
                      <h3 class="font-semibold text-gray-900 dark:text-gray-50 text-xl">Drug Traffic</h3>
                    </div>
                    <!-- <div class="relative w-full max-w-full flex-grow flex-1 text-right">
                      <button
                        class="bg-blue-500 dark:bg-gray-100 text-white active:bg-blue-600 dark:text-gray-800 dark:active:text-gray-700 text-xs font-bold uppercase px-3 py-1 rounded outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150"
                        type="button">See all</button>
                    </div> -->
                  </div>
                  <div class="block w-full overflow-x-auto">
                    <table class="items-center w-full bg-transparent border-collapse">
                      <thead>
                        <tr>
                          <th
                            class="px-4 bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-200 align-middle border border-solid border-gray-200 dark:border-gray-500 py-3 text-sm uppercase border-l-0 border-r-0 whitespace-nowrap font-semibold text-left">
                            Substance</th>
                          <th
                            class="px-4 bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-200 align-middle border border-solid border-gray-200 dark:border-gray-500 py-3 text-sm uppercase border-l-0 border-r-0 whitespace-nowrap font-semibold text-left">
                            Severely Addicted</th>
                          <th
                            class="px-4 bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-200 align-middle border border-solid border-gray-200 dark:border-gray-500 py-3 text-sm uppercase border-l-0 border-r-0 whitespace-nowrap font-semibold text-left">
                            Mildly Addicted
                          </th>
                          <th
                            class="px-4 bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-200 align-middle border border-solid border-gray-200 dark:border-gray-500 py-3 text-sm uppercase border-l-0 border-r-0 whitespace-nowrap font-semibold text-left">
                            Question Analysis
                          </th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr class="text-gray-700 dark:text-gray-100">
                          <th
                            class="border-t-0 px-4 align-middle border-l-0 border-r-0 text-[0.81rem] whitespace-nowrap text-left">
                            Mobile Phone</th>
                          <td
                            class="border-t-0 px-4 align-middle border-l-0 border-r-0 text-[0.81rem] whitespace-nowrap">
                            5,480
                          </td>
                          <td
                            class="border-t-0 px-4 align-middle border-l-0 border-r-0 text-[0.81rem] whitespace-nowrap">
                            5,480
                          </td>
                          <td
                            class="border-t-0 px-4 align-middle border-l-0 border-r-0 text-[0.81rem] whitespace-nowrap">
                            <a href="/dashboard/alcohol">
                              <div
                                class="origin-top-right hover:cursor-pointer text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-600 px-3 hover:scale-x-[1.05] ease-in-out duration-300">
                                Click Here <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                                  stroke-width="1.5" stroke="currentColor" class="w-11 inline p-2">
                                  <path stroke-linecap="round" stroke-linejoin="round"
                                    d="M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3" />
                                </svg>
                              </div>
                            </a>
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                </div>
              </div>
              <!-- ./Drug Traffic -->

            </div>

            <div id="container" class="m-2 md:p-5 md:m-5 bg-white shadow-lg">
              <canvas id="myChart"></canvas>
            </div>

            <!-- Recent Feedbacks -->
            <div class="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 p-4 gap-4 text-black dark:text-white">
              <div class="md:col-span-2 xl:col-span-3">
                <h3 class="text-lg font-semibold">Recent Feedbacks</h3>
              </div>
              <div class="flex flex-col gap-4 p-4 border-transparent shadow-xl">
                <!-- Profile and Rating -->
                <div class="flex justify justify-between">
                  <div class="flex gap-2">
                    <div class="w-7 h-7 text-center rounded-full bg-red-500">A</div>
                    <span>Anonymous User</span>
                  </div>
                  <!-- <div class="flex p-1 gap-1 text-orange-300">
                    <ion-icon name="star"></ion-icon>
                    <ion-icon name="star"></ion-icon>
                    <ion-icon name="star"></ion-icon>
                    <ion-icon name="star"></ion-icon>
                    <ion-icon name="star-half"></ion-icon>
                  </div> -->
                </div>

                <div>
                  Excellent Program, will recommend my friends about it.
                </div>

                <div class="flex justify-between">
                  <span>June 6, 2023</span>
                  <button class="p-1 px-3 bg-blue-400 hover:bg-blue-500 rounded-md">
                    <ion-icon name="share-outline"></ion-icon> Share</button>
                </div>
              </div>
            </div>
            <!-- ./Recent Feedbacks -->
          </div>
    </div>
  </div>
  <%- include("../partials/footer") %>


</body>
<script src="https://cdn.jsdelivr.net/gh/alpinejs/alpine@v2.8.0/dist/alpine.min.js" defer></script>
<script>
  const setup = () => {
    const getTheme = () => {
      if (window.localStorage.getItem('dark')) {
        return JSON.parse(window.localStorage.getItem('dark'))
      }
      return !!window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches
    }

    const setTheme = (value) => {
      window.localStorage.setItem('dark', value)
    }

    return {
      loading: true,
      isDark: getTheme(),
      toggleTheme() {
        this.isDark = !this.isDark
        setTheme(this.isDark)
      },
    }
  }

  const ctx = document.getElementById('myChart');

  //defining the labels on x-axis
  const labels = ['Alcohol', 'Behavioural', 'Device Screen', 'Marijuana'];

  //data for each label
  const data = {
    labels: labels,
    datasets: [
      {
        label: 'Non Addicted',
        data: [1, 2, 3, 4],
        borderColor: '#36A2EB',
        backgroundColor: '#9BD0F5',
      },
      {
        label: 'Mildly Addicted',
        data: [7, 8, 9, 10],
        borderColor: '#FF6384',
        backgroundColor: '#FFB1C1',
      },
      {
        label: 'Severely Addicted',
        data: [4, 5, 6, 7],
        borderColor: '#00DFA2',
        backgroundColor: '#00DFA2',
      }
    ]
  };

  // //explicit tooltip content
  // const footer = (tooltipItems) => {
  //   let sum = 0;

  //   tooltipItems.forEach((tooltipItem) => {
  //     sum += tooltipItem.parsed.y;
  //   });
  //   tooltipItems.forEach((tooltipItem) => {
  //     let cur=tooltipItem.parsed.y;
  //     let per=(cur*100)/sum;
  //     return 'Percentage: ' + per;
  //   });

  // };

  //configuration of the graph
  const config = {
    type: 'bar',
    data: data,
    options: {
      responsive: true,
      scales: {
        x: {
          ticks: {
            font: {
              size: 14
            }
          }
        },
        y: {
          ticks: {
            font: {
              size: 14
            }
          }
        }
      },
      plugins: {
        legend: {
          position: 'top',
          labels: {
            font: {
              size: 14
            }
          }
        },
        title: {
          display: true,
          text: 'Substance Analysis',
          font: {
            size: 16,
            weight: 700
          }
        },
      }
    },
  };

  //displaying graph
  new Chart(ctx, config);
</script>

</html>